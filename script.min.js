document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("constellation-canvas");if(t){const s=t.getContext("2d");let h=[];const r=100,a=120,l={x:null,y:null},d=document.querySelector(".hero-content");let c;class y{constructor(t,e,n,o){this.x=t,this.y=e,this.vx=n,this.vy=o,this.radius=1.5*Math.random()+1}draw(){s.beginPath(),s.arc(this.x,this.y,this.radius,0,2*Math.PI),s.fillStyle="rgba(255, 183, 77, 0.8)",s.fill()}update(){if((this.x<0||this.x>t.width)&&(this.vx=-this.vx),(this.y<0||this.y>t.height)&&(this.vy=-this.vy),c){const t=this.x+this.vx,e=this.y+this.vy;t>c.left&&t<c.right&&e>c.top&&e<c.bottom&&(this.vx=-this.vx,this.vy=-this.vy)}this.x+=this.vx,this.y+=this.vy}}function e(){!function(){if(t.width=t.offsetWidth,t.height=t.offsetHeight,d){const e=d.getBoundingClientRect(),n=t.getBoundingClientRect();c={left:e.left-n.left,top:e.top-n.top,right:e.right-n.left,bottom:e.bottom-n.top}}}(),h=[];for(let e=0;e<r;e++){let e,n;do{e=Math.random()*t.width,n=Math.random()*t.height}while(c&&e>c.left&&e<c.right&&n>c.top&&n<c.bottom);const o=.5*(Math.random()-.5),i=.5*(Math.random()-.5);h.push(new y(e,n,o,i))}}window.addEventListener("resize",e),t.addEventListener("mousemove",e=>{const n=t.getBoundingClientRect();l.x=e.clientX-n.left,l.y=e.clientY-n.top}),t.addEventListener("mouseleave",()=>{l.x=null,l.y=null}),e(),function e(){s.clearRect(0,0,t.width,t.height),h.forEach(t=>{t.update(),t.draw()}),function(){for(let t=0;t<h.length;t++){let e=Math.sqrt(Math.pow(h[t].x-l.x,2)+Math.pow(h[t].y-l.y,2));e<a&&(s.strokeStyle=`rgba(255, 183, 77, ${1-e/a})`,s.lineWidth=.5,s.beginPath(),s.moveTo(h[t].x,h[t].y),s.lineTo(l.x,l.y),s.stroke());for(let e=t+1;e<h.length;e++){let n=Math.sqrt(Math.pow(h[t].x-h[e].x,2)+Math.pow(h[t].y-h[e].y,2));n<a&&(s.strokeStyle=`rgba(255, 183, 77, ${.6-n/a})`,s.lineWidth=.3,s.beginPath(),s.moveTo(h[t].x,h[t].y),s.lineTo(h[e].x,h[e].y),s.stroke())}}}(),requestAnimationFrame(e)}()}const n=document.getElementById("contact-form");n&&n.addEventListener("submit",function(t){t.preventDefault();const e=new FormData(n);fetch("/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(e).toString()}).then(()=>{n.reset(),alert("Thank you for your message! It has been sent.")}).catch(t=>{alert("Sorry, there was an error sending your message. Please try again later.")})});const o=document.querySelectorAll(".fade-in-section"),i=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("is-visible"),i.unobserve(t.target))})},{rootMargin:"0px",threshold:.1});o.forEach(t=>{i.observe(t)})});