document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("constellation-canvas");if(t){const a=t.getContext("2d");let h=[],l=[],d=[];const c=25;let f,g;const p={x:void 0,y:void 0,radius:100};class u{constructor(t){this.generator=t,this.startHub=t,this.nodesToVisit=new Set(l.filter(t=>"default"===t.type));const e=Array.from(this.nodesToVisit);this.endHub=e[Math.floor(Math.random()*e.length)],this.path=this.findPath(this.startHub,this.endHub),this.pathIndex=0,this.progress=0,this.speed=.08*Math.random()+.02,this.color="rgba(255, 183, 77, 0.8)"}findPath(t,e){let s=[t],r=new Map,i=new Map(h.map(t=>[t,1/0]));i.set(t,0);let n=new Map(h.map(t=>[t,1/0]));for(n.set(t,this.heuristic(t,e));s.length>0;){let t=s.sort((t,e)=>n.get(t)-n.get(e))[0];if(t===e){let e=[t];for(;r.has(t);)t=r.get(t),e.unshift(t);return e}s=s.filter(e=>e!==t);for(let o of t.neighbors){let a=i.get(t)+1;a<i.get(o)&&(r.set(o,t),i.set(o,a),n.set(o,a+this.heuristic(o,e)),s.includes(o)||s.push(o))}}return[]}heuristic(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}update(){if(this.path&&0!==this.path.length){if(this.progress+=this.speed,this.progress>=1&&(this.progress=0,this.pathIndex++,this.pathIndex>=this.path.length-1)){if(this.startHub=this.endHub,"terminator"===this.startHub.type)return void(this.progress=1.1);this.nodesToVisit.delete(this.startHub);const t=Array.from(this.nodesToVisit);if(t.length>0)this.endHub=t[Math.floor(Math.random()*t.length)];else{const t=l.filter(t=>"terminator"===t.type);if(!(t.length>0))return void(this.progress=1.1);this.endHub=t[Math.floor(Math.random()*t.length)]}this.path=this.findPath(this.startHub,this.endHub),this.pathIndex=0,this.progress=0}}else this.progress=1.1}draw(){if(this.pathIndex>=this.path.length-1)return;const t=this.path[this.pathIndex],e=this.path[this.pathIndex+1],s=t.x+(e.x-t.x)*this.progress,r=t.y+(e.y-t.y)*this.progress;a.beginPath(),a.arc(s,r,1.5,0,2*Math.PI),a.fillStyle=this.color,a.fill()}}function e(){const e=window.devicePixelRatio||1;t.width=t.offsetWidth*e,t.height=t.offsetHeight*e,a.scale(e,e),f=Math.floor(t.offsetWidth/c),g=Math.floor(t.offsetHeight/c),h=[],l=[],d=[];for(let t=0;t<f;t++)for(let e=0;e<g;e++){const s=t*c+c/2,r=e*c+c/2;h.push({x:s,y:r,neighbors:[]})}for(let t=0;t<h.length;t++)for(let e=t+1;e<h.length;e++){Math.sqrt(Math.pow(h[t].x-h[e].x,2)+Math.pow(h[t].y-h[e].y,2))<1.5*c&&(h[t].neighbors.push(h[e]),h[e].neighbors.push(h[t]))}l=[];const s=[{x:.1,y:.1},{x:.9,y:.1},{x:.1,y:.9},{x:.9,y:.9},{x:.5,y:.1},{x:.1,y:.5},{x:.9,y:.5},{x:.5,y:.9},{x:.5,y:.5},{x:.25,y:.25},{x:.75,y:.25},{x:.25,y:.75},{x:.75,y:.75},{x:.25,y:.5},{x:.75,y:.5},{x:.5,y:.25},{x:.5,y:.75}];h.length>0&&s.forEach(e=>{let s=null,r=1/0;const i=t.offsetWidth*e.x,n=t.offsetHeight*e.y;h.forEach(t=>{const e=Math.sqrt(Math.pow(t.x-i,2)+Math.pow(t.y-n,2));e<r&&(r=e,s=t)}),s&&!l.includes(s)&&l.push(s)});const r=[...l].sort(()=>.5-Math.random());r.slice(0,5).forEach(t=>t.type="generator"),r.slice(5,10).forEach(t=>t.type="terminator"),l.forEach(t=>{t.type||(t.type="default"),t.isHub=!0});const i=l.filter(t=>"generator"===t.type);i.forEach(t=>{for(let e=0;e<10;e++)d.push(new u(t))})}window.addEventListener("resize",e),t.addEventListener("mousemove",e=>{const s=t.getBoundingClientRect();p.x=e.clientX-s.left,p.y=e.clientY-s.top}),t.addEventListener("mouseleave",()=>{p.x=void 0,p.y=void 0}),e(),function e(){if(a.fillStyle="rgba(17, 24, 39, 0.25)",a.fillRect(0,0,t.width,t.height),a.fillStyle="rgba(255, 183, 77, 0.1)",h.forEach(t=>{a.beginPath(),a.arc(t.x,t.y,1,0,2*Math.PI),a.fill()}),l.forEach(t=>{switch(t.type){case"generator":a.fillStyle="rgba(110, 231, 183, 0.7)";break;case"terminator":a.fillStyle="rgba(252, 165, 165, 0.7)";break;default:a.fillStyle="rgba(255, 183, 77, 0.6)"}a.beginPath(),a.arc(t.x,t.y,4,0,2*Math.PI),a.fill()}),d=d.filter(t=>t.progress<=1),d.forEach(t=>{t.update(),t.draw()}),Math.random()>.95&&d.length<150){const t=l.filter(t=>"generator"===t.type);if(t.length>0){const e=t[Math.floor(Math.random()*t.length)];d.push(new u(e))}}requestAnimationFrame(e)}()}const s=document.getElementById("contact-form");s&&s.addEventListener("submit",function(t){t.preventDefault();const e=new FormData(s);fetch("/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(e).toString()}).then(()=>{s.reset(),alert("Thank you for your message! It has been sent.")}).catch(t=>{alert("Sorry, there was an error sending your message. Please try again later.")})});const r=document.getElementById("hamburger-button"),i=document.getElementById("nav-links");r&&i&&(r.addEventListener("click",()=>{i.classList.toggle("active");const t=i.classList.contains("active");r.setAttribute("aria-expanded",t)}),i.addEventListener("click",t=>{"A"===t.target.tagName&&(i.classList.remove("active"),r.setAttribute("aria-expanded","false"))}));const n=document.querySelectorAll(".fade-in-section"),o=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("is-visible"),o.unobserve(t.target))})},{rootMargin:"0px",threshold:.1});n.forEach(t=>{o.observe(t)})});